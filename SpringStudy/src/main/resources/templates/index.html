<!DOCTYPE html>
<html lang="ko" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring Study | 메인</title>
    <link rel="stylesheet" href="/index.css">
</head>
<body>

<div>
    <span id="welcomeMessage">로그인 해주세요!</span>
</div>


<!-- ✅ 상단 네비게이션 바 추가 -->
<nav class="navbar">
    <a href="/" class="logo">🌍 Spring World</a>
    <div class="nav-links">
        <a href="/login" id="loginLink">로그인</a>
        <a href="/register" id="registerLink">회원가입</a>
        <a href="/logout" id="logoutLink" style="display:none;">로그아웃</a>
    </div>
</nav>

<header>
    <h2>🌱 Spring Study</h2>
    <p>함께 성장하는 백엔드 개발 스터디</p>
</header>

<main>
    <div class="card-container">

        <div class="card">
            <h1>🏠 더그아웃!</h1>
            <p>“당신의 손 안에 있는 야구장, 여기는 더그아웃입니다.”</p>
            <a href="/dugout" class="btn">몸 풀러가기</a>
        </div>

        <div class="card">
            <h1>📱 상품 리스트 바로가기</h1>
            <p>상품 리스트 구현 페이지입니다.</p>
            <a href="/list" class="btn">상품 리스트 보기</a>
        </div>

        <div class="card">
            <h1>🥇 25시즌 KBO 팀 순위</h1>
            <p>25년도 KBO 팀 순위 페이지입니다.</p>
            <a href="/kbo/teamRank" class="btn">KBO 순위 보기</a>
        </div>

        <div class="card">
            <h1>⚾ SSG 선수단</h1>
            <p>SSG 랜더스 선수단 페이지입니다.</p>
            <a href="/list/ssg/page/1" class="btn">SSG 선수단 보기</a>
        </div>

        <div class="card">
            <h1>🗓️ 6월 경기 일정</h1>
            <p>SSG 랜더스 6월 경기 일정입니다.</p>
            <a href="/list/ssg/games" class="btn">경기 일정 보기</a>
        </div>

        <div class="card">
            <h1>🎟️ 티켓 예매</h1>
            <p>티켓링크에서 SSG 경기 예매가 가능합니다.</p>
            <a href="https://www.ticketlink.co.kr/sports/137/476" class="btn" target="_blank">예매하러 가기</a>
        </div>

        <div class="card" style="grid-column: 1 / -1;">
            <h2>📌 스터디 개요</h2>
            <ul>
                <li>📘 Spring Boot 실습</li>
                <li>🧪 API 개발 및 테스트</li>
                <li>💾 JPA, DB 연동</li>
                <li>🌐 배포 & 클라우드 경험</li>
                <li>🪪 OAuth2 인증</li>
            </ul>
        </div>

    <div class="card" style="grid-column: 1 / -1;">
        <h2>🗓️ 학습 기록</h2>
        <h4>✅ 25/06/15</h4>
        <ul>
            <li>Spring 기본 개념 및 구조 학습</li>
            <li>상품 목록 페이지 생성 (기본 View 구성)</li>
            <li>클라우드 DB 생성 및 IntelliJ 연동</li>
            <li>JPA로 엔티티 및 컬럼 매핑</li>
            <li>ORM 기반 데이터 모델링 적용</li>
        </ul>

        <h4>✅ 25/06/16</h4>
        <ul>
            <li>Thymeleaf문법으로 DB 데이터 출력</li>
            <li>SSG 선수단/경기일정 기능 추가</li>
            <li>상품 리스트 UI 개선 및 상세 페이지 이동 기능 추가</li>
            <li>POST 요청으로 상품명/가격 DB 저장 (if문 유효성 필터)</li>
            <li>Lombok 적용 및 접근제어자 개념 학습</li>
        </ul>

        <h4>✅ 25/06/17</h4>
        <ul>
            <li>예외처리</li>
            <li>서비스 어노테이션 생성 → 함수 생성(saveItem) → 컨트롤에서 변수 생성</li>
            <li>DI 적용(Item, SSG)</li>
            <li>상품 수정 및 삭제 기능 추가</li>
        </ul>

        <h4>✅ 25/06/18</h4>
        <ul>
            <li>회원가입 기능 추가</li>
            <li>로그인 기능 추가</li>
            <li>@bean 사용법 숙지</li>
            <Li>Spring Data JPA Query Method 사용해서 아이디 찾기</Li>

        </ul>

        <h4>✅ 25/06/19 ~ 27일</h4>
        <ul>
            <li>정보처리기사 실기 준비</li>
        </ul>
        <h4>✅ 25/06/28</h4>
        <ul>
            <li>DTO 개념 학습</li>
            <li>페이지네이션 개념 숙지</li>
            <li>SSG 랜더스 선수단 페이지네이션 적용</li>
        </ul>
        <h4>✅ 25/06/30</h4>
        <ul>
            <li>AWS s3사용하여 이미지 업로드(페이지 리스트, 상세 페이지, 수정)</li>
            <li>presigned URL 업로드 → URL 추출 → DB 저장</li>
            <li>댓글 기능 추가(댓글 엔티티 생성 -> 댓글 레포지 생성 -> 컨트롤러 로직 작성 -> 폼 구현 -> 댓글 저장 컨트롤러 작성)</li>
        </ul>
        <h4>✅ 25/07/01 ~ 10일</h4>
        <ul>
            <li>정보처리기사 실기 준비</li>
        </ul>
        <h4>✅ 25/07/11</h4>
        <ul>
            <li>댓글 기능 복습</li>
            <li>상품 검색 기능 학습</li>
            <li>한글 검색 최적화를 위해 Full-Text Index + n-gram 파서 + Native Query를 사용하여 효율적인 검색 구현</li>
            <Li>SSG 선수단 검색 기능 추가</Li>
        </ul>
        <h4>✅ 25/07/12</h4>
        <ul>
            <li>상품 주문 기능 학습</li>
            <li>DB정규화 (2정규형) -> 기존 칼럼을 사용(@ManyToOne) -> DB 생성</li>
            <li>계정별 내 주문 내역 확인 기능 추가</li>
        </ul>
        <h4>✅ 25/07/13</h4>
        <ul>
            <li>주문 기능 중 @OntToMany 사용</li>
            <li>주문 기능 중 타 사용자의 주문목록 노출 수정</li>
            <li>JWT 학습(개념, 토큰 발급)</li>
            <li>로그인 시큐리티 수정 JWT</li>
        </ul>
        <h4>✅ 25/07/14 ~ 18일</h4>
        <ul>
            <li>정보처리기사 실기 준비</li>
        </ul>
        <h4>✅ 25/07/20</h4>
        <ul>
            <li>JWT 로그인 정상화</li>
            <li>DB 트렌젝션 학습</li>
            <Li>아이템 테이블에서 상품 겟수(총 10개) 설정 이후 주문 기능에서 차감하여 트렌잭션 학습 </Li>

        </ul>
        <h4>✅ 25/07/24</h4>
        <ul>
            <li>25시즌 KBO 구단 순위 기능 추가</li>
            <li>파이썬 셀리니움 크롤링 -> DB 저장 -> 스프링으로 구현</li>
            <Li>00:00 시마다 크롤링 후 DB 저장 이후 view로 노출</Li>

        </ul>
        <h4>✅ 25/07/25</h4>
        <ul>
            <li>"더그아웃" 프로젝트 시작</li>
            <li>"더그아웃" 프로젝트 기능 추가</li>
            <li>"더그아웃" - 구단 별 예매, 구단 순위 기능 + 구단별 승률 그래프 시각화(chat.js)</li>
            <li>메인 화면 정렬</li>
        </ul>
        <h4>✅ 25/07/26</h4>
        <ul>
            <li>"더그아웃" - 구단 별 뉴스(Naver API) 기능 추가</li>
        </ul>
        <h4>✅ 25/07/28</h4>
        <ul>
            <li>"더그아웃" - 구단 페이지 추가(LG,SSG) </li>
            <li>더그아웃 메인 페이지 수정 및 팀 순위 UI 수정</li>
        </ul>

        <h4>✅ 25/07/29</h4>
        <ul>
            <li>"더그아웃" - 대표 아이콘 추가</li>
            <li>"더그아웃" - 10구단 모두 추가</li>
            <li>"더그아웃" - 메뉴 간소화</li>
        </ul>

        <h4>✅ 25/07/30</h4>
        <ul>
            <li>"더그아웃" - 10구단 선수단 정보 DB 저장</li>
        </ul>

        <h4>✅ 25/07/31</h4>
        <ul>
            <li>"더그아웃" - 10구단 선수진 추가 + 우승 횟수</li>
            <li>"더그아웃" - 2025시즌 팀 순위 변동 추이 그래프 추가</li>
        </ul>

        <h4>✅ 25/08/01 ~ 02</h4>
        <ul>
            <li>"더그아웃" - 구단 별 사이트 선수 검색 추가</li>
            <li>"더그아웃" - 25시즌 KBO 8월 일정 DB 작업 완료</li>
            <li>"더그아웃" - 25시즌 경기 일정 기능 추가</li>
        </ul>
        <h4>✅ 25/08/03 ~ 06</h4>
        <ul>
            <li>"더그아웃" - 25 시즌 경기 일정 구단 로고 추가</li>
            <li>"더그아웃" - 각 구장 별 날씨 기능 추가(기상청 API) + 구단 별 페이지에서도 기능 추가 완료</li>
            <li>"더그아웃" - 야구 용어 설명 기능 추가</li>
            <li>"더그아웃" - html파일,css 파일, 컨틀롤러 로직 정리</li>
            <li>"더그아웃" - 각 구단 별 타자,투수 크롤링 데이터 준비 中 -> 향후 골든 글러브 예측</li>
        </ul>
        <h4>✅ 25/08/07 ~ 10</h4>
        <ul>
            <li>"더그아웃" - 각 구단별 타자 기록 지표 크롤링 완료</li>
            <li>"더그아웃" - 팀 페이지 "타자 기록보기" 추가</li>
            <li>"더그아웃" - "타자 기록보기" 기능 추가</li>
            <li>"더그아웃" - 각 구단별 투수 기록 지표 크롤링 中</li>
            <li>"더그아웃" - 오타 및 각 에러 수정</li>
        </ul>
        <h4>✅ 25/08/ ~ 10</h4>
        <ul>
            <li>"더그아웃" - 각 구단별 타자 기록 지표 크롤링 완료</li>
            <li>"더그아웃" - 팀 페이지 "타자 기록보기" 추가</li>
            <li>"더그아웃" - "타자 기록보기" 기능 추가</li>
            <li>"더그아웃" - 각 구단별 투수 기록 지표 크롤링 中</li>
            <li>"더그아웃" - 오타 및 각 에러 수정</li>
        </ul>
        <h4>✅ 25/08/14</h4>
        <ul>
            <li>"더그아웃" - 각 구단별 투수 기록 지표 크롤링 완료</li>
            <li>"더그아웃" - 팀 페이지 "투수 기록보기" 추가</li>
            <li>"더그아웃" - "투수 기록보기" 기능 추가</li>
            <li>"더그아웃" - 각 구단별 페이지 UI 대폭 수정</li>
            <li>"더그아웃" - 영문 구단 이름 -> 한글명으로 수정</li>
        </ul>
        <h4>✅ ~ 25/08/22</h4>
        <ul>
            <li>전국 대학 소프트웨어 성과 공유 포럼 기간</li>
        </ul>
        <h4>✅ ~ 25/08/26</h4>
        <ul>
            <li>"더그아웃" - 기록실 기능 완변 구현(타자/투수)</li>
        </ul>
        <h4>✅ ~ 25/08/28</h4>
        <ul>
            <li>"더그아웃" - "골든 글러브 예측" 기능 준비</li>
            <li>"더그아웃" - "골든 글러브 예측" - 선수별 포지션 구체화(1루수..3루수..외야수 등)/li>
            <li>"더그아웃" - "타자/투수 수상 예측(타격왕,홀드왕 등등)" 기능 준비</li>
            <li>"더그아웃" - "DB 조인 최적화(선수 테이블, 기록 테이블, 팀 테이블 조인)</li>
        </ul>



    </div>
</main>

<footer>
    ⓒ 2025 Spring Study Team. All rights reserved.
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const welcomeMessage = document.getElementById('welcomeMessage');
        const loginLink = document.getElementById('loginLink');
        const registerLink = document.getElementById('registerLink');
        const logoutLink = document.getElementById('logoutLink');

        fetch('/user/info')
            .then(response => {
                if (!response.ok) throw new Error('유저 정보 요청 실패');
                return response.json();
            })
            .then(user => {
                // 👋 누구누구님 환영 메시지
                if (welcomeMessage) {
                    welcomeMessage.textContent = `👋 환영합니다, ${user.displayName}님!`;
                }

                // 네비게이션 토글
                if (loginLink && registerLink && logoutLink) {
                    loginLink.style.display = 'none';
                    registerLink.style.display = 'none';
                    logoutLink.style.display = 'inline-block';
                }
            })
            .catch(err => {
                console.error(err);
                if (welcomeMessage) {
                    welcomeMessage.textContent = '로그인 해주세요!';
                }
            });

        // ✅ 로그아웃 버튼 클릭 시 처리
        logoutLink.addEventListener('click', (e) => {
            e.preventDefault();

            fetch('/logout', { method: 'GET' })
                .then(() => {
                    document.cookie = "jwt=; Max-Age=0; path=/;";
                    window.location.href = '/';
                });
        });
    });
</script>
</body>
</html>
