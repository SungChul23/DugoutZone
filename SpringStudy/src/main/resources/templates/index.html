<!DOCTYPE html>
<html lang="ko" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring Study | 메인</title>
    <link rel="stylesheet" href="/index.css">
</head>
<body>

<!-- ✅ 상단 네비게이션 바 추가 -->
<nav class="navbar">
    <a href="/" class="logo">🌍 Spring World</a>
    <div class="nav-links">
        <div th:if="${username}">
            <a href="/logout">로그아웃</a>
        </div>
        <a href="/login">로그인</a>
        <a href="/register">회원가입</a>
    </div>
    </div>
</nav>


<header>
    <h2>🌱 Spring Study</h2>
    <p>함께 성장하는 백엔드 개발 스터디</p>
</header>

<main>
    <div class="card">
        <h1>환영합니다!</h1>
        <p>이 페이지는 Spring Framework를 학습하는 스터디 메인 페이지입니다.</p>
        <a href="/study/join" class="btn">스터디 참여하기(API 미구현)</a>
    </div>

    <div class="card">
        <h1>📱 상품 리스트 바로가기</h1>
        <p>이 페이지는 상품 리스트 구현에 대한 페이지입니다.</p>
        <a href="/list" class="btn">상품 리스트 바로가기</a>
    </div>

    <div class="card">
        <h1>⚾ SSG 선수단 바로가기</h1>
        <p>SSG 랜더스 선수단에 대한 페이지입니다.</p>
        <a href="/list/ssg/page/1" class="btn">SSG 선수단 바로가기</a>
    </div>

    <div class="card">
        <h1>🗓️ SSG 랜더스 6월 경기 일정</h1>
        <p>SSG 랜더스 6월 경기 일정에 대한 페이지입니다.</p>
        <a href="/list/ssg/games" class="btn">경기 일정 바로가기</a>
    </div>

    <div class="card">
        <h1>🎟️ SSG 랜더스 티켓 예매</h1>
        <p>티켓링크에서 SSG 경기 티켓을 예매할 수 있습니다.</p>
        <a href="https://www.ticketlink.co.kr/sports/137/476" class="btn" target="_blank">티켓 예매하기</a>
    </div>

    <div class="card">
        <h2>📌 스터디 개요</h2>
        <ul>
            <li>📘 Spring Boot 실습</li>
            <li>🧪 API 개발 및 테스트</li>
            <li>💾 JPA, DB 연동</li>
            <li>🌐 배포 & 클라우드 경험</li>
            <li>🪪 OAuth2 인증</li>
        </ul>
    </div>

    <div class="card">
        <h2>🗓️ 학습 기록</h2>
        <h4>✅ 25/06/15</h4>
        <ul>
            <li>Spring 기본 개념 및 구조 학습</li>
            <li>상품 목록 페이지 생성 (기본 View 구성)</li>
            <li>클라우드 DB 생성 및 IntelliJ 연동</li>
            <li>JPA로 엔티티 및 컬럼 매핑</li>
            <li>ORM 기반 데이터 모델링 적용</li>
        </ul>

        <h4>✅ 25/06/16</h4>
        <ul>
            <li>Thymeleaf문법으로 DB 데이터 출력</li>
            <li>SSG 선수단/경기일정 기능 추가</li>
            <li>상품 리스트 UI 개선 및 상세 페이지 이동 기능 추가</li>
            <li>POST 요청으로 상품명/가격 DB 저장 (if문 유효성 필터)</li>
            <li>Lombok 적용 및 접근제어자 개념 학습</li>
        </ul>

        <h4>✅ 25/06/17</h4>
        <ul>
            <li>예외처리</li>
            <li>서비스 어노테이션 생성 → 함수 생성(saveItem) → 컨트롤에서 변수 생성</li>
            <li>DI 적용(Item, SSG)</li>
            <li>상품 수정 및 삭제 기능 추가</li>
        </ul>

        <h4>✅ 25/06/18</h4>
        <ul>
            <li>회원가입 기능 추가</li>
            <li>로그인 기능 추가</li>
            <li>@bean 사용법 숙지</li>
            <Li>Spring Data JPA Query Method 사용해서 아이디 찾기</Li>

        </ul>

        <h4>✅ 25/06/19 ~ 27일</h4>
        <ul>
            <li>정보처리기사 실기 준비</li>
        </ul>
        <h4>✅ 25/06/28</h4>
        <ul>
            <li>DTO 개념 학습</li>
            <li>페이지네이션 개념 숙지</li>
            <li>SSG 랜더스 선수단 페이지네이션 적용</li>
        </ul>
        <h4>✅ 25/06/30</h4>
        <ul>
            <li>AWS s3사용하여 이미지 업로드(페이지 리스트, 상세 페이지, 수정)</li>
            <li>presigned URL 업로드 → URL 추출 → DB 저장</li>
            <li>댓글 기능 추가(댓글 엔티티 생성 -> 댓글 레포지 생성 -> 컨트롤러 로직 작성 -> 폼 구현 -> 댓글 저장 컨트롤러 작성)</li>
        </ul>
        <h4>✅ 25/07/01 ~ 10일</h4>
        <ul>
            <li>정보처리기사 실기 준비</li>
        </ul>
        <h4>✅ 25/07/11</h4>
        <ul>
            <li>댓글 기능 복습</li>
            <li>상품 검색 기능 학습</li>
            <li>한글 검색 최적화를 위해 Full-Text Index + n-gram 파서 + Native Query를 사용하여 효율적인 검색 구현</li>
            <Li>SSG 선수단 검색 기능 추가</Li>
        </ul>
        <h4>✅ 25/07/12</h4>
        <ul>
            <li>상품 주문 기능 학습</li>
            <li>DB정규화 (2정규형) -> 기존 칼럼을 사용(@ManyToOne) -> DB 생성</li>
            <li>계정별 내 주문 내역 확인 기능 추가</li>
        </ul>
        <h4>✅ 25/07/13</h4>
        <ul>
            <li>주문 기능 중 @OntToMany 사용</li>
            <li>주문 기능 중 타 사용자의 주문목록 노출 수정</li>
            <li>JWT 학습(개념, 토큰 발급)</li>
            <li>로그인 시큐리티 수정 JWT</li>
        </ul>
    </div>
</main>

<footer>
    ⓒ 2025 Spring Study Team. All rights reserved.
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const welcomeMessage = document.getElementById('welcomeMessage');
        const loginLink = document.getElementById('loginLink');
        const registerLink = document.getElementById('registerLink');
        const logoutLink = document.getElementById('logoutLink');

        fetch('/user/info')
            .then(response => {
                if (!response.ok) throw new Error('유저 정보 요청 실패');
                return response.json();
            })
            .then(user => {
                // 👋 누구누구님 환영 메시지
                welcomeMessage.textContent = `👋 환영합니다, ${user.displayName}님!`;

                // 네비게이션 토글
                loginLink.style.display = 'none';
                registerLink.style.display = 'none';
                logoutLink.style.display = 'inline-block';
            })
            .catch(err => {
                console.error(err);
                welcomeMessage.textContent = '로그인 해주세요!';
            });
    });

</script>
</body>
</html>
