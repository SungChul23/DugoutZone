<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>타자 기록 검색 | DUGOUT</title>
  <link rel="stylesheet" href="/recordroom/allbatters.css">
  <link rel="icon" href="/dugout.png">
  <script defer src="/recordroom/allbatter-table.js"></script>
</head>
<body class="records-body">

<section class="records-hero">
  <h1>타자 기록 검색</h1>
  <p>🔍 선수 이름으로 최신 시즌 기록을 검색해보세요</p>
  <form th:action="@{/allrecords/batter}" method="get" class="search-form">
    <input type="text" name="keyword" placeholder="예: 김도영"
           th:value="${keyword}" required>
    <button type="submit" class="btn neon-blue">검색</button>
  </form>
</section>

<div class="legend">
  <span class="legend-item">컬럼명을 클릭하면 정렬됩니다.</span>
  <p class="record-date">
    📅 이 데이터는 <span th:text="${latestDate}">2025-08-11</span> 기준입니다.
  </p>
</div>

<section class="search-results" th:if="${batterList != null}">
  <div class="slider-controls">
    <button id="prevView">⏪</button>
    <span class="dot active" data-view="1"></span>
    <span class="dot" data-view="2"></span>
    <button id="nextView">⏩</button>
  </div>

  <div class="table-scroll">
    <table class="records-table" id="statsTable">
      <thead>
      <tr class="group group-1">
        <th class="stat-header th-tip" data-stat="nameKr">이름</th>
        <th class="stat-header th-tip" data-stat="team">팀</th>
        <th class="stat-header th-tip" data-stat="AVG">AVG</th>
        <th class="stat-header th-tip" data-stat="G">G</th>
        <th class="stat-header th-tip" data-stat="PA">PA</th>
        <th class="stat-header th-tip" data-stat="AB">AB</th>
        <th class="stat-header th-tip" data-stat="R">R</th>
        <th class="stat-header th-tip" data-stat="H">H</th>
        <th class="stat-header th-tip" data-stat="2B">2B</th>
        <th class="stat-header th-tip" data-stat="3B">3B</th>
        <th class="stat-header th-tip" data-stat="HR">HR</th>
        <th class="stat-header th-tip" data-stat="TB">TB</th>
        <th class="stat-header th-tip" data-stat="RBI">RBI</th>
        <th class="stat-header th-tip" data-stat="SAC">SAC</th>
        <th class="stat-header th-tip" data-stat="SF">SF</th>
      </tr>
      <tr class="group group-2" style="display: none;">
        <th class="stat-header th-tip" data-stat="BB">BB</th>
        <th class="stat-header th-tip" data-stat="IBB">IBB</th>
        <th class="stat-header th-tip" data-stat="HBP">HBP</th>
        <th class="stat-header th-tip" data-stat="SO">SO</th>
        <th class="stat-header th-tip" data-stat="GDP">GDP</th>
        <th class="stat-header th-tip" data-stat="SLG">SLG</th>
        <th class="stat-header th-tip" data-stat="OBP">OBP</th>
        <th class="stat-header th-tip" data-stat="OPS">OPS</th>
        <th class="stat-header th-tip" data-stat="MH">MH</th>
        <th class="stat-header th-tip" data-stat="RISP">RISP</th>
        <th class="stat-header th-tip" data-stat="PH-BA">PH-BA</th>
      </tr>
      </thead>

      <tbody>
      <tr th:each="batter : ${batterList}">
        <!-- 그룹 1 -->
        <td class="group group-1" th:text="${batter.nameKr}" data-stat="nameKr" th:data-value="${batter.nameKr}"></td>
        <td class="group group-1" th:text="${batter.team}" data-stat="team" th:data-value="${batter.team}"></td>
        <td class="group group-1" th:text="${batter.avg}" data-stat="AVG" th:attr="data-value=${batter.avg}"></td>
        <td class="group group-1" th:text="${batter.g}" data-stat="G" th:attr="data-value=${batter.g}"></td>
        <td class="group group-1" th:text="${batter.pa}" data-stat="PA" th:attr="data-value=${batter.pa}"></td>
        <td class="group group-1" th:text="${batter.ab}" data-stat="AB" th:attr="data-value=${batter.ab}"></td>
        <td class="group group-1" th:text="${batter.r}" data-stat="R" th:attr="data-value=${batter.r}"></td>
        <td class="group group-1" th:text="${batter.h}" data-stat="H" th:attr="data-value=${batter.h}"></td>
        <td class="group group-1" th:text="${batter.twoB}" data-stat="2B" th:attr="data-value=${batter.twoB}"></td>
        <td class="group group-1" th:text="${batter.threeB}" data-stat="3B" th:attr="data-value=${batter.threeB}"></td>
        <td class="group group-1" th:text="${batter.hr}" data-stat="HR" th:attr="data-value=${batter.hr}"></td>
        <td class="group group-1" th:text="${batter.tb}" data-stat="TB" th:attr="data-value=${batter.tb}"></td>
        <td class="group group-1" th:text="${batter.rbi}" data-stat="RBI" th:attr="data-value=${batter.rbi}"></td>
        <td class="group group-1" th:text="${batter.sac}" data-stat="SAC" th:attr="data-value=${batter.sac}"></td>
        <td class="group group-1" th:text="${batter.sf}" data-stat="SF" th:attr="data-value=${batter.sf}"></td>

        <!-- 그룹 2 -->
        <td class="group group-2" style="display:none;" th:text="${batter.bb}" data-stat="BB" th:attr="data-value=${batter.bb}"></td>
        <td class="group group-2" style="display:none;" th:text="${batter.ibb}" data-stat="IBB" th:attr="data-value=${batter.ibb}"></td>
        <td class="group group-2" style="display:none;" th:text="${batter.hbp}" data-stat="HBP" th:attr="data-value=${batter.hbp}"></td>
        <td class="group group-2" style="display:none;" th:text="${batter.so}" data-stat="SO" th:attr="data-value=${batter.so}"></td>
        <td class="group group-2" style="display:none;" th:text="${batter.gdp}" data-stat="GDP" th:attr="data-value=${batter.gdp}"></td>
        <td class="group group-2" style="display:none;" th:text="${batter.slg}" data-stat="SLG" th:attr="data-value=${batter.slg}"></td>
        <td class="group group-2" style="display:none;" th:text="${batter.obp}" data-stat="OBP" th:attr="data-value=${batter.obp}"></td>
        <td class="group group-2" style="display:none;" th:text="${batter.ops}" data-stat="OPS" th:attr="data-value=${batter.ops}"></td>
        <td class="group group-2" style="display:none;" th:text="${batter.mh}" data-stat="MH" th:attr="data-value=${batter.mh}"></td>
        <td class="group group-2" style="display:none;" th:text="${batter.risp}" data-stat="RISP" th:attr="data-value=${batter.risp}"></td>
        <td class="group group-2" style="display:none;" th:text="${batter.phBa}" data-stat="PH-BA" th:attr="data-value=${batter.phBa}"></td>
      </tr>
      </tbody>


    </table>
  </div>
</section>

<div class="back-home-section">
  <a href="/allrecords" class="btn neon-home-btn"> 기록실로</a>
</div>

<footer>
  © 2025 더그아웃 | 타자 기록 검색
</footer>

</body>
</html>
